<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

	<head th:replace="~{fragments :: page_head(${pageTitle}, 'tag')}" />
	<link rel="stylesheet" th:href="@{/richtext/richtext.min.css}" />
	<script th:src="@{/richtext/jquery.richtext.min.js}"></script>
</head>

<body>
	<div class="container-fluid">
		<div class="w-100">
			<div class="d-flex w-100">
				<div th:replace="~{sidebar :: sidebar}" class="w-25"></div>
				<div class="d-flex flex-column" style="width: 88%">
					<div th:replace="~{navigation :: menu}"></div>
					<div class="w-80">
						<div class="p-3">
							<h2 style="text-align: center">
								Manage Articles | [[${pageTitle}]]</h2>
						

						<form th:action="@{/articles/save}" method="post" style="width: 90%; margin: 0 auto"
							th:object="${article}">
							<input type="hidden" th:field="*{id}" />
							<div  class="p-3" style="background-color: white;box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px,
                      rgba(0, 0, 0, 0.23) 0px 3px 6px;
                    border-radius: 10px;">
								<div class="form-group row">
									<label class="col-sm-2 col-form-label">Title:</label>
									<div class="col-sm-10">
										<input type="text" class="form-control" th:field="*{title}" required
											minlength="5" maxlength="256" />
									</div>
								</div>

								<div class="form-group row">
									<label class="col-sm-2 col-form-label">Alias:</label>
									<div class="col-sm-10">
										<input type="text" class="form-control" th:field="*{alias}" minlength="5"
											maxlength="500"
											placeholder="If leaved empty, default alias will be same as title with spaces replaced by dashes" />
									</div>
								</div>

								<div class="form-group row">
									<label for="content" class="col-sm-2 col-form-label">Content:</label>
									<div class="col-sm-10">
										<textarea class="form-control" th:field="*{content}" rows="10"
											required></textarea>
									</div>
								</div>

								<div class="form-group row">
									<label for="type" class="col-sm-2 col-form-label">Type:</label>
									<div class="col-sm-10">
										<select th:field="*{type}" class="form-control" style="max-width: 190px">
											<option value="MENU_BOUND">Menu-Bound Article</option>
											<option value="FREE">Free Article</option>
										</select>
									</div>
								</div>

								<div class="form-group row">
									<label for="published" class="col-sm-2 col-form-label">Published:</label>
									<div class="col-sm-10">
										<input type="checkbox" th:field="*{published}" />
									</div>
								</div>

								<div class="text-center">
									<input type="submit" value="Save" class="btn btn-primary m-3" />
									<input type="button" value="Cancel" class="btn btn-secondary" id="buttonCancel" />
								</div>
							</div>
						</form>
					</div>
					<div th:replace="~{fragments :: footer}"></div>
				</div>
			</div>
		</div>

		<div th:replace="~{modal_fragments :: modal_dialog}"></div>

		

	</div>
	</div>
	
	<script type="text/javascript">
		moduleURL = "[[@{/articles}]]";
		$("#content").richText();
	</script>
	<script th:src="@{/js/common_form.js}"></script>
</body>

</html>